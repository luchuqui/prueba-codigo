Æ"
<D:\Users\luis_\Source\Repos\prueba-codigo\Tarea-1\Program.cs
	namespace 	
Tarea_1
 
{ 
public 

class 
Program 
{ 
public		 
static		 
void		 
Main		 
(		  
string		  &
[		& '
]		' (
args		) -
)		- .
{

 	
	Encrypted 
	encrypted 
=  !
new" %
	Encrypted& /
(/ 0
)0 1
;1 2
Console 
. 
	WriteLine 
( 
$str R
)R S
;S T
Console 
. 
	WriteLine 
( 
$str ;
); <
;< =
Console 
. 
	WriteLine 
( 
$str R
)R S
;S T
Console 
. 
	WriteLine 
( 
$str 1
)1 2
;2 3
Console 
. 
	WriteLine 
( 
$str ,
), -
;- .
Console 
. 
	WriteLine 
( 
$str /
)/ 0
;0 1
var 
c 
= 
Console 
. 
ReadKey #
(# $
)$ %
;% &
string 
opt 
= 
Console  
.  !
ReadLine! )
() *
)* +
;+ ,
if 
( 
string 
. 
IsNullOrEmpty $
($ %
opt% (
)( )
)) *
{ 
Console 
. 
	WriteLine !
(! "
$str" 3
)3 4
;4 5
} 
else 
if 
( 
opt 
. 
Equals 
(  
$str  #
)# $
)$ %
{ 
Console 
. 
	WriteLine !
(! "
$str" H
)H I
;I J
string 
	fileClear  
=! "
Console# *
.* +
ReadLine+ 3
(3 4
)4 5
;5 6
Console 
. 
	WriteLine !
(! "
$str" I
)I J
;J K
string 
fileEncrypt "
=# $
Console% ,
., -
ReadLine- 5
(5 6
)6 7
;7 8
Console 
. 
	WriteLine !
(! "
$str" B
)B C
;C D
string 
key 
= 
Console $
.$ %
ReadLine% -
(- .
). /
;/ 0
	encrypted   
.   "
EncryptContentFileText   0
(  0 1
	fileClear  1 :
,!! 
key!! 
,"" 
fileEncrypt"" 
)"" 
;"" 
}## 
else$$ 
if$$ 
($$ 
opt$$ 
.$$ 
Equals$$ 
($$  
$str$$  #
)$$# $
)$$$ %
{%% 
Console&& 
.&& 
	WriteLine&& !
(&&! "
$str&&" H
)&&H I
;&&I J
string'' 
fileEncrypt'' "
=''# $
Console''% ,
.'', -
ReadLine''- 5
(''5 6
)''6 7
;''7 8
Console(( 
.(( 
	WriteLine(( !
(((! "
$str((" I
)((I J
;((J K
string)) 
	fileClear))  
=))! "
Console))# *
.))* +
ReadLine))+ 3
())3 4
)))4 5
;))5 6
Console** 
.** 
	WriteLine** !
(**! "
$str**" B
)**B C
;**C D
string++ 
key++ 
=++ 
Console++ $
.++$ %
ReadLine++% -
(++- .
)++. /
;++/ 0
	encrypted,, 
.,, %
DesEncryptContentFileText,, 3
(,,3 4
fileEncrypt,,4 ?
,-- 
key-- 
,.. 
	fileClear.. 
).. 
;.. 
}// 
}00 	
}11 
}22 ¾r
ID:\Users\luis_\Source\Repos\prueba-codigo\Tarea-1\Utilitario\Encrypted.cs
	namespace 	
Tarea_1
 
. 

Utilitario 
{ 
public 

class 
	Encrypted 
{		 
public 
void "
EncryptContentFileText *
(* +
string+ 1
fileName2 :
,: ;
string< B
keyAESC I
,I J
stringK Q
fileEncryptR ]
)] ^
{ 	
int 
i 
= 
$num 
; 
if 
( 
string 
. 
IsNullOrEmpty $
($ %
fileName% -
)- .
). /
{ 
i 
++ 
; 
Console 
. 
	WriteLine !
(! "
$str" @
)@ A
;A B
} 
else 
if 
( 
fileName 
. 
EndsWith %
(% &
$str& ,
), -
)- .
{ 
i 
++ 
; 
Console 
. 
	WriteLine !
(! "
$str" @
)@ A
;A B
} 
if 
( 
string 
. 
IsNullOrEmpty $
($ %
keyAES% +
)+ ,
), -
{   
i!! 
=!! 
i!! 
+!! 
$num!! 
;!! 
Console"" 
."" 
	WriteLine"" !
(""! "
$str""" :
)"": ;
;""; <
}## 
else$$ 
if$$ 
($$ 
!$$ 
($$ 
keyAES$$ 
.$$ 
Length$$ $
==$$% '
$num$$( *
)$$* +
)$$+ ,
{%% 
i&& 
++&& 
;&& 
Console'' 
.'' 
	WriteLine'' !
(''! "
$str''" C
)''C D
;''D E
}(( 
if** 
(** 
string** 
.** 
IsNullOrEmpty** $
(**$ %
fileEncrypt**% 0
)**0 1
)**1 2
{++ 
i,, 
++,, 
;,, 
Console-- 
.-- 
	WriteLine-- "
(--" #
$str--# M
)--M N
;--N O
}.. 
else// 
if// 
(// 
fileEncrypt// 
.//  
EndsWith//  (
(//( )
$str//) /
)/// 0
)//0 1
{00 
i11 
++11 
;11 
Console22 
.22 
	WriteLine22 !
(22! "
$str22" K
)22K L
;22L M
}33 
if44 
(44 
i44 
!=44 
$num44 
)44 
{55 
return77 
;77 
}88 
try:: 
{;; 
string<< 
line<< 
=<< 
string<< $
.<<$ %
Empty<<% *
;<<* +
using== 
(== 
StreamReader== #
sr==$ &
===' (
new==) ,
StreamReader==- 9
(==9 :
fileName==: B
)==B C
)==C D
{>> 
line?? 
=?? 
sr?? 
.?? 
ReadLine?? &
(??& '
)??' (
;??( )
while@@ 
(@@ 
line@@ 
!=@@  "
null@@# '
)@@' (
{AA 
tryCC 
{DD 
usingEE !
(EE" #

FileStreamEE# -

fileStreamEE. 8
=EE9 :
newEE; >

FileStreamEE? I
(EEI J
fileEncryptEEJ U
,EEU V
FileModeEEW _
.EE_ `
AppendEE` f
)EEf g
)EEg h
{FF 
usingGG  %
(GG& '
AesGG' *
aesGG+ .
=GG/ 0
AesGG1 4
.GG4 5
CreateGG5 ;
(GG; <
)GG< =
)GG= >
{HH  !
byteII$ (
[II( )
]II) *
keyII+ .
=II/ 0
SystemII1 7
.II7 8
TextII8 <
.II< =
EncodingII= E
.IIE F
ASCIIIIF K
.IIK L
GetBytesIIL T
(IIT U
keyAESIIU [
)II[ \
;II\ ]
aesJJ$ '
.JJ' (
KeyJJ( +
=JJ, -
keyJJ. 1
;JJ1 2
byteLL$ (
[LL( )
]LL) *
ivLL+ -
=LL. /
aesLL0 3
.LL3 4
IVLL4 6
;LL6 7

fileStreamMM$ .
.MM. /
WriteMM/ 4
(MM4 5
ivMM5 7
,MM7 8
$numMM9 :
,MM: ;
ivMM< >
.MM> ?
LengthMM? E
)MME F
;MMF G
usingOO$ )
(OO* +
CryptoStreamOO+ 7
cryptoStreamOO8 D
=OOE F
newOOG J
(OOJ K

fileStreamPP( 2
,PP2 3
aesQQ( +
.QQ+ ,
CreateEncryptorQQ, ;
(QQ; <
)QQ< =
,QQ= >
CryptoStreamModeRR( 8
.RR8 9
WriteRR9 >
)RR> ?
)RR? @
{SS$ %
usingTT( -
(TT. /
StreamWriterTT/ ;
encryptWriterTT< I
=TTJ K
newTTL O
(TTO P
cryptoStreamTTP \
)TT\ ]
)TT] ^
{UU( )
encryptWriterVV, 9
.VV9 :
	WriteLineVV: C
(VVC D
lineVVD H
)VVH I
;VVI J
}WW( )
}XX$ %
}YY  !
}ZZ 
Console\\ #
.\\# $
	WriteLine\\$ -
(\\- .
$str\\. G
)\\G H
;\\H I
}]] 
catch^^ 
(^^ 
	Exception^^ (
ex^^) +
)^^+ ,
{__ 
Console`` #
.``# $
	WriteLine``$ -
(``- .
$"``. 0
$str``0 G
{``G H
ex``H J
}``J K
"``K L
)``L M
;``M N
}aa 
linebb 
=bb 
srbb !
.bb! "
ReadLinebb" *
(bb* +
)bb+ ,
;bb, -
}cc 
}dd 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
Consolehh 
.hh 
	WriteLinehh !
(hh! "
$"hh" $
$strhh$ ;
{hh; <
exhh< >
}hh> ?
"hh? @
)hh@ A
;hhA B
}ii 
}jj 	
publicll 
voidll %
DesEncryptContentFileTextll -
(ll- .
stringll. 4
fileEncryptll5 @
,ll@ A
stringllB H
keyAESllI O
,llO P
stringllQ W
	fileClearllX a
)lla b
{mm 	
intoo 
ioo 
=oo 
$numoo 
;oo 
ifpp 
(pp 
stringpp 
.pp 
IsNullOrEmptypp $
(pp$ %
fileEncryptpp% 0
)pp0 1
)pp1 2
{qq 
irr 
++rr 
;rr 
Consoless 
.ss 
	WriteLiness !
(ss! "
$strss" K
)ssK L
;ssL M
}tt 
elseuu 
ifuu 
(uu 
fileEncryptuu 
.uu  
EndsWithuu  (
(uu( )
$struu) /
)uu/ 0
)uu0 1
{vv 
iww 
++ww 
;ww 
Consolexx 
.xx 
	WriteLinexx !
(xx! "
$strxx" =
)xx= >
;xx> ?
}yy 
ifzz 
(zz 
stringzz 
.zz 
IsNullOrEmptyzz $
(zz$ %
keyAESzz% +
)zz+ ,
)zz, -
{{{ 
i|| 
=|| 
i|| 
+|| 
$num|| 
;|| 
Console}} 
.}} 
	WriteLine}} !
(}}! "
$str}}" 6
)}}6 7
;}}7 8
}~~ 
else 
if 
( 
! 
( 
keyAES 
. 
Length $
==% '
$num( *
)+ ,
), -
{
 
i
 
++
 
;
 
Console
 
.
 
	WriteLine
 !
(
! "
$str
" B
)
B C
;
C D
}
 
if
 
(
 
string
 
.
 
IsNullOrEmpty
 $
(
$ %
	fileClear
% .
)
. /
)
/ 0
{
 
i
 
++
 
;
 
Console
 
.
 
	WriteLine
 "
(
" #
$str
# Q
)
Q R
;
R S
}
 
else
 
if
 
(
 
	fileClear
 
.
 
EndsWith
 '
(
' (
$str
( .
)
. /
)
/ 0
{
 
i
 
++
 
;
 
Console
 
.
 
	WriteLine
 "
(
" #
$str
# N
)
N O
;
O P
}
 
if
 
(
 
i
 
!=
 
$num
 
)
 
{
 
return
 
;
 
}
 
try
 
{
 
try
 
{
 
using
 
(
 

FileStream
 !

fileStream
" ,
=
- .
new
/ 2
(
2 3
fileEncrypt
3 >
,
> ?
FileMode
@ H
.
H I
OpenOrCreate
I U
)
U V
)
V W
{
 
using
 
(
 
Aes
 
aes
 "
=
# $
Aes
% (
.
( )
Create
) /
(
/ 0
)
0 1
)
1 2
{
 
byte
 
[
 
]
 
key
 "
=
# $
System
% +
.
+ ,
Text
, 0
.
0 1
Encoding
1 9
.
9 :
ASCII
: ?
.
? @
GetBytes
@ H
(
H I
keyAES
I O
)
O P
;
P Q
aes
 
.
 
Key
 
=
  !
key
" %
;
% &
byte
¡¡ 
[
¡¡ 
]
¡¡ 
iv
¡¡ !
=
¡¡" #
new
¡¡$ '
byte
¡¡( ,
[
¡¡, -
$num
¡¡- /
]
¡¡/ 0
;
¡¡0 1

fileStream
¢¢ "
.
¢¢" #
Read
¢¢# '
(
¢¢' (
iv
¢¢( *
,
¢¢* +
$num
¢¢, -
,
¢¢- .
iv
¢¢/ 1
.
¢¢1 2
Length
¢¢2 8
)
¢¢8 9
;
¢¢9 :
int
¤¤ 
sizeCipherData
¤¤ *
=
¤¤+ ,
(
¤¤- .
int
¤¤. 1
)
¤¤1 2

fileStream
¤¤2 <
.
¤¤< =
Length
¤¤= C
-
¤¤D E
iv
¤¤F H
.
¤¤H I
Length
¤¤I O
;
¤¤O P
byte
¥¥ 
[
¥¥ 
]
¥¥ 

cipherText
¥¥ )
=
¥¥* +
new
¥¥, /
byte
¥¥0 4
[
¥¥4 5
sizeCipherData
¥¥5 C
]
¥¥C D
;
¥¥D E

fileStream
¦¦ "
.
¦¦" #
Read
¦¦# '
(
¦¦' (

cipherText
¦¦( 2
,
¦¦2 3
$num
¦¦4 5
,
¦¦5 6
sizeCipherData
¦¦7 E
)
¦¦E F
;
¦¦F G
using
¨¨ 
(
¨¨ 
MemoryStream
¨¨ +
	msDecrypt
¨¨, 5
=
¨¨6 7
new
¨¨8 ;
MemoryStream
¨¨< H
(
¨¨H I

cipherText
¨¨I S
)
¨¨S T
)
¨¨T U
{
©© 
using
ªª !
(
ªª" #
CryptoStream
ªª# /
cryptoStream
ªª0 <
=
ªª= >
new
ªª? B
(
ªªB C
	msDecrypt
««  )
,
««) *
aes
¬¬  #
.
¬¬# $
CreateDecryptor
¬¬$ 3
(
¬¬3 4
key
¬¬4 7
,
¬¬7 8
iv
¬¬9 ;
)
¬¬; <
,
¬¬< =
CryptoStreamMode
­­  0
.
­­0 1
Read
­­1 5
)
­­5 6
)
­­6 7
{
®® 
using
¯¯  %
(
¯¯& '
StreamReader
¯¯' 3
encryptReader
¯¯4 A
=
¯¯B C
new
¯¯D G
(
¯¯G H
cryptoStream
¯¯H T
)
¯¯T U
)
¯¯U V
{
°°  !
var
±±$ '
	clearText
±±( 1
=
±±2 3
encryptReader
±±4 A
.
±±A B
	ReadToEnd
±±B K
(
±±K L
)
±±L M
;
±±M N
using
²²$ )
(
²²* +
System
²²+ 1
.
²²1 2
IO
²²2 4
.
²²4 5
StreamWriter
²²5 A
file
²²B F
=
²²G H
new
²²I L
System
²²M S
.
²²S T
IO
²²T V
.
²²V W
StreamWriter
²²W c
(
²²c d
	fileClear
²²d m
,
²²m n
true
²²o s
)
²²s t
)
²²t u
{
³³$ %
file
´´( ,
.
´´, -
	WriteLine
´´- 6
(
´´6 7
	clearText
´´7 @
)
´´@ A
;
´´A B
}
µµ$ %
}
¶¶  !
}
·· 
}
¸¸ 
}
¹¹ 
}
ºº 
Console
¼¼ 
.
¼¼ 
	WriteLine
¼¼ !
(
¼¼! "
$str
¼¼" ;
)
¼¼; <
;
¼¼< =
}
½½ 
catch
¾¾ 
(
¾¾ 
	Exception
¾¾ 
ex
¾¾ 
)
¾¾  
{
¿¿ 
Console
ÀÀ 
.
ÀÀ 
	WriteLine
ÀÀ !
(
ÀÀ! "
$"
ÀÀ" $
$str
ÀÀ$ ;
{
ÀÀ; <
ex
ÀÀ< >
}
ÀÀ> ?
"
ÀÀ? @
)
ÀÀ@ A
;
ÀÀA B
}
ÁÁ 
Console
ÃÃ 
.
ÃÃ 
	WriteLine
ÃÃ !
(
ÃÃ! "
$str
ÃÃ" ;
)
ÃÃ; <
;
ÃÃ< =
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ 
ex
ÅÅ 
)
ÅÅ  
{
ÆÆ 
Console
ÇÇ 
.
ÇÇ 
	WriteLine
ÇÇ !
(
ÇÇ! "
$"
ÇÇ" $
$str
ÇÇ$ ;
{
ÇÇ; <
ex
ÇÇ< >
}
ÇÇ> ?
"
ÇÇ? @
)
ÇÇ@ A
;
ÇÇA B
}
ÈÈ 
}
ÊÊ 	
}
ËË 
}ÌÌ 