Ç
<D:\Users\luis_\Source\Repos\prueba-codigo\Tarea-1\Program.cs
public 

class 
Program 
{ 
public		 
static		 
void		 
Main		 
(		  
string		  &
[		& '
]		' (
args		) -
)		- .
{

 	
	Encrypted 
	encrypted 
=  !
new" %
	Encrypted& /
(/ 0
)0 1
;1 2
Console 
. 
	WriteLine 
( 
$str R
)R S
;S T
Console 
. 
	WriteLine 
( 
$str ;
); <
;< =
Console 
. 
	WriteLine 
( 
$str R
)R S
;S T
Console 
. 
	WriteLine 
( 
$str 1
)1 2
;2 3
Console 
. 
	WriteLine 
( 
$str ,
), -
;- .
Console 
. 
	WriteLine 
( 
$str /
)/ 0
;0 1
var 
c 
= 
Console 
. 
ReadKey #
(# $
)$ %
;% &
string 
opt 
= 
Console  
.  !
ReadLine! )
() *
)* +
;+ ,
if 
( 
string 
. 
IsNullOrEmpty $
($ %
opt% (
)( )
)) *
{ 
Console 
. 
	WriteLine !
(! "
$str" 3
)3 4
;4 5
} 
else 
if 
( 
opt 
. 
Equals 
(  
$str  #
)# $
)$ %
{ 
Console 
. 
	WriteLine !
(! "
$str" H
)H I
;I J
string 
	fileClear  
=! "
Console# *
.* +
ReadLine+ 3
(3 4
)4 5
;5 6
Console 
. 
	WriteLine !
(! "
$str" I
)I J
;J K
string 
fileEncrypt "
=# $
Console% ,
., -
ReadLine- 5
(5 6
)6 7
;7 8
string   
key   
=   
$str   /
;  / 0
	encrypted!! 
.!! "
EncryptContentFileText!! 0
(!!0 1
	fileClear!!1 :
,"" 
key"" 
,## 
fileEncrypt## 
)## 
;## 
}$$ 
else%% 
if%% 
(%% 
opt%% 
.%% 
Equals%% 
(%%  
$str%%  #
)%%# $
)%%$ %
{&& 
Console'' 
.'' 
	WriteLine'' !
(''! "
$str''" H
)''H I
;''I J
string(( 
fileEncrypt(( "
=((# $
Console((% ,
.((, -
ReadLine((- 5
(((5 6
)((6 7
;((7 8
Console)) 
.)) 
	WriteLine)) !
())! "
$str))" I
)))I J
;))J K
string** 
	fileClear**  
=**! "
Console**# *
.*** +
ReadLine**+ 3
(**3 4
)**4 5
;**5 6
string-- 
key-- 
=-- 
$str-- /
;--/ 0
	encrypted.. 
... %
DesEncryptContentFileText.. 3
(..3 4
fileEncrypt..4 ?
,// 
key// 
,00 
	fileClear00 
)00 
;00 
}11 
}22 	
}33 ‡s
ID:\Users\luis_\Source\Repos\prueba-codigo\Tarea-1\Utilitario\Encrypted.cs
	namespace 	
Tarea_1
 
. 

Utilitario 
{ 
public 

class 
	Encrypted 
{		 
public 
void "
EncryptContentFileText *
(* +
string+ 1
fileName2 :
,: ;
string< B
keyAESC I
,I J
stringK Q
fileEncryptR ]
)] ^
{ 	
keyAES 
= 
$str '
;' (
int 
i 
= 
$num 
; 
if 
( 
string 
. 
IsNullOrEmpty $
($ %
fileName% -
)- .
). /
{ 
i 
++ 
; 
Console 
. 
	WriteLine !
(! "
$str" @
)@ A
;A B
} 
else 
if 
( 
fileName 
. 
EndsWith %
(% &
$str& ,
), -
)- .
{ 
i 
++ 
; 
Console 
. 
	WriteLine !
(! "
$str" @
)@ A
;A B
} 
if   
(   
string   
.   
IsNullOrEmpty   $
(  $ %
keyAES  % +
)  + ,
)  , -
{!! 
i"" 
="" 
i"" 
+"" 
$num"" 
;"" 
Console## 
.## 
	WriteLine## !
(##! "
$str##" :
)##: ;
;##; <
}$$ 
else%% 
if%% 
(%% 
!%% 
(%% 
keyAES%% 
.%% 
Length%% $
==%%% '
$num%%( *
)%%* +
)%%+ ,
{&& 
i'' 
++'' 
;'' 
Console(( 
.(( 
	WriteLine(( !
(((! "
$str((" C
)((C D
;((D E
})) 
if++ 
(++ 
string++ 
.++ 
IsNullOrEmpty++ $
(++$ %
fileEncrypt++% 0
)++0 1
)++1 2
{,, 
i-- 
++-- 
;-- 
Console.. 
... 
	WriteLine.. "
(.." #
$str..# M
)..M N
;..N O
}// 
else00 
if00 
(00 
fileEncrypt00 
.00  
EndsWith00  (
(00( )
$str00) /
)00/ 0
)000 1
{11 
i22 
++22 
;22 
Console33 
.33 
	WriteLine33 !
(33! "
$str33" K
)33K L
;33L M
}44 
if55 
(55 
i55 
!=55 
$num55 
)55 
{66 
return88 
;88 
}99 
try;; 
{<< 
string== 
line== 
=== 
string== $
.==$ %
Empty==% *
;==* +
using>> 
(>> 
StreamReader>> #
sr>>$ &
=>>' (
new>>) ,
StreamReader>>- 9
(>>9 :
fileName>>: B
)>>B C
)>>C D
{?? 
line@@ 
=@@ 
sr@@ 
.@@ 
ReadLine@@ &
(@@& '
)@@' (
;@@( )
whileAA 
(AA 
lineAA 
!=AA  "
nullAA# '
)AA' (
{BB 
tryDD 
{EE 
usingFF !
(FF" #

FileStreamFF# -

fileStreamFF. 8
=FF9 :
newFF; >

FileStreamFF? I
(FFI J
fileEncryptFFJ U
,FFU V
FileModeFFW _
.FF_ `
AppendFF` f
)FFf g
)FFg h
{GG 
usingHH  %
(HH& '
AesHH' *
aesHH+ .
=HH/ 0
AesHH1 4
.HH4 5
CreateHH5 ;
(HH; <
)HH< =
)HH= >
{II  !
byteJJ$ (
[JJ( )
]JJ) *
keyJJ+ .
=JJ/ 0
SystemJJ1 7
.JJ7 8
TextJJ8 <
.JJ< =
EncodingJJ= E
.JJE F
ASCIIJJF K
.JJK L
GetBytesJJL T
(JJT U
keyAESJJU [
)JJ[ \
;JJ\ ]
aesKK$ '
.KK' (
KeyKK( +
=KK, -
keyKK. 1
;KK1 2
byteMM$ (
[MM( )
]MM) *
ivMM+ -
=MM. /
aesMM0 3
.MM3 4
IVMM4 6
;MM6 7

fileStreamNN$ .
.NN. /
WriteNN/ 4
(NN4 5
ivNN5 7
,NN7 8
$numNN9 :
,NN: ;
ivNN< >
.NN> ?
LengthNN? E
)NNE F
;NNF G
usingPP$ )
(PP* +
CryptoStreamPP+ 7
cryptoStreamPP8 D
=PPE F
newPPG J
(PPJ K

fileStreamQQ( 2
,QQ2 3
aesRR( +
.RR+ ,
CreateEncryptorRR, ;
(RR; <
)RR< =
,RR= >
CryptoStreamModeSS( 8
.SS8 9
WriteSS9 >
)SS> ?
)SS? @
{TT$ %
usingUU( -
(UU. /
StreamWriterUU/ ;
encryptWriterUU< I
=UUJ K
newUUL O
(UUO P
cryptoStreamUUP \
)UU\ ]
)UU] ^
{VV( )
encryptWriterWW, 9
.WW9 :
	WriteLineWW: C
(WWC D
lineWWD H
)WWH I
;WWI J
}XX( )
}YY$ %
}ZZ  !
}[[ 
Console]] #
.]]# $
	WriteLine]]$ -
(]]- .
$str]]. G
)]]G H
;]]H I
}^^ 
catch__ 
(__ 
	Exception__ (
ex__) +
)__+ ,
{`` 
Consoleaa #
.aa# $
	WriteLineaa$ -
(aa- .
$"aa. 0
$straa0 G
{aaG H
exaaH J
}aaJ K
"aaK L
)aaL M
;aaM N
}bb 
linecc 
=cc 
srcc !
.cc! "
ReadLinecc" *
(cc* +
)cc+ ,
;cc, -
}dd 
}ee 
}ff 
catchgg 
(gg 
	Exceptiongg 
exgg 
)gg  
{hh 
Consoleii 
.ii 
	WriteLineii !
(ii! "
$"ii" $
$strii$ ;
{ii; <
exii< >
}ii> ?
"ii? @
)ii@ A
;iiA B
}jj 
}kk 	
publicmm 
voidmm %
DesEncryptContentFileTextmm -
(mm- .
stringmm. 4
fileEncryptmm5 @
,mm@ A
stringmmB H
keyAESmmI O
,mmO P
stringmmQ W
	fileClearmmX a
)mma b
{nn 	
keyAESoo 
=oo 
$stroo '
;oo' (
intqq 
iqq 
=qq 
$numqq 
;qq 
ifrr 
(rr 
stringrr 
.rr 
IsNullOrEmptyrr $
(rr$ %
fileEncryptrr% 0
)rr0 1
)rr1 2
{ss 
itt 
++tt 
;tt 
Consoleuu 
.uu 
	WriteLineuu !
(uu! "
$struu" K
)uuK L
;uuL M
}vv 
elseww 
ifww 
(ww 
fileEncryptww 
.ww  
EndsWithww  (
(ww( )
$strww) /
)ww/ 0
)ww0 1
{xx 
iyy 
++yy 
;yy 
Consolezz 
.zz 
	WriteLinezz !
(zz! "
$strzz" =
)zz= >
;zz> ?
}{{ 
if|| 
(|| 
string|| 
.|| 
IsNullOrEmpty|| $
(||$ %
keyAES||% +
)||+ ,
)||, -
{}} 
i~~ 
=~~ 
i~~ 
+~~ 
$num~~ 
;~~ 
Console 
. 
	WriteLine !
(! "
$str" 6
)6 7
;7 8
}
ÄÄ 
else
ÅÅ 
if
ÅÅ 
(
ÅÅ 
!
ÅÅ 
(
ÅÅ 
keyAES
ÅÅ 
.
ÅÅ 
Length
ÅÅ $
==
ÅÅ% '
$num
ÅÅ( *
)
ÅÅ+ ,
)
ÅÅ, -
{
ÇÇ 
i
ÉÉ 
++
ÉÉ 
;
ÉÉ 
Console
ÑÑ 
.
ÑÑ 
	WriteLine
ÑÑ !
(
ÑÑ! "
$str
ÑÑ" B
)
ÑÑB C
;
ÑÑC D
}
ÖÖ 
if
áá 
(
áá 
string
áá 
.
áá 
IsNullOrEmpty
áá $
(
áá$ %
	fileClear
áá% .
)
áá. /
)
áá/ 0
{
àà 
i
ââ 
++
ââ 
;
ââ 
Console
ää 
.
ää 
	WriteLine
ää "
(
ää" #
$str
ää# Q
)
ääQ R
;
ääR S
}
ãã 
else
ãã 
if
ãã 
(
ãã 
	fileClear
ãã 
.
ãã 
EndsWith
ãã '
(
ãã' (
$str
ãã( .
)
ãã. /
)
ãã/ 0
{
åå 
i
çç 
++
çç 
;
çç 
Console
éé 
.
éé 
	WriteLine
éé "
(
éé" #
$str
éé# N
)
ééN O
;
ééO P
}
èè 
if
êê 
(
êê 
i
êê 
!=
êê 
$num
êê 
)
êê 
{
ëë 
return
ìì 
;
ìì 
}
îî 
try
òò 
{
ôô 
try
öö 
{
õõ 
using
úú 
(
úú 

FileStream
úú !

fileStream
úú" ,
=
úú- .
new
úú/ 2
(
úú2 3
fileEncrypt
úú3 >
,
úú> ?
FileMode
úú@ H
.
úúH I
OpenOrCreate
úúI U
)
úúU V
)
úúV W
{
ùù 
using
ûû 
(
ûû 
Aes
ûû 
aes
ûû "
=
ûû# $
Aes
ûû% (
.
ûû( )
Create
ûû) /
(
ûû/ 0
)
ûû0 1
)
ûû1 2
{
üü 
byte
†† 
[
†† 
]
†† 
key
†† "
=
††# $
System
††% +
.
††+ ,
Text
††, 0
.
††0 1
Encoding
††1 9
.
††9 :
ASCII
††: ?
.
††? @
GetBytes
††@ H
(
††H I
keyAES
††I O
)
††O P
;
††P Q
aes
°° 
.
°° 
Key
°° 
=
°°  !
key
°°" %
;
°°% &
byte
££ 
[
££ 
]
££ 
iv
££ !
=
££" #
new
££$ '
byte
££( ,
[
££, -
$num
££- /
]
££/ 0
;
££0 1

fileStream
§§ "
.
§§" #
Read
§§# '
(
§§' (
iv
§§( *
,
§§* +
$num
§§, -
,
§§- .
iv
§§/ 1
.
§§1 2
Length
§§2 8
)
§§8 9
;
§§9 :
int
¶¶ 
sizeCipherData
¶¶ *
=
¶¶+ ,
(
¶¶- .
int
¶¶. 1
)
¶¶1 2

fileStream
¶¶2 <
.
¶¶< =
Length
¶¶= C
-
¶¶D E
iv
¶¶F H
.
¶¶H I
Length
¶¶I O
;
¶¶O P
byte
ßß 
[
ßß 
]
ßß 

cipherText
ßß )
=
ßß* +
new
ßß, /
byte
ßß0 4
[
ßß4 5
sizeCipherData
ßß5 C
]
ßßC D
;
ßßD E

fileStream
®® "
.
®®" #
Read
®®# '
(
®®' (

cipherText
®®( 2
,
®®2 3
$num
®®4 5
,
®®5 6
sizeCipherData
®®7 E
)
®®E F
;
®®F G
using
™™ 
(
™™ 
MemoryStream
™™ +
	msDecrypt
™™, 5
=
™™6 7
new
™™8 ;
MemoryStream
™™< H
(
™™H I

cipherText
™™I S
)
™™S T
)
™™T U
{
´´ 
using
¨¨ !
(
¨¨" #
CryptoStream
¨¨# /
cryptoStream
¨¨0 <
=
¨¨= >
new
¨¨? B
(
¨¨B C
	msDecrypt
≠≠  )
,
≠≠) *
aes
ÆÆ  #
.
ÆÆ# $
CreateDecryptor
ÆÆ$ 3
(
ÆÆ3 4
key
ÆÆ4 7
,
ÆÆ7 8
iv
ÆÆ9 ;
)
ÆÆ; <
,
ÆÆ< =
CryptoStreamMode
ØØ  0
.
ØØ0 1
Read
ØØ1 5
)
ØØ5 6
)
ØØ6 7
{
∞∞ 
using
±±  %
(
±±& '
StreamReader
±±' 3
encryptReader
±±4 A
=
±±B C
new
±±D G
(
±±G H
cryptoStream
±±H T
)
±±T U
)
±±U V
{
≤≤  !
var
≥≥$ '
	clearText
≥≥( 1
=
≥≥2 3
encryptReader
≥≥4 A
.
≥≥A B
	ReadToEnd
≥≥B K
(
≥≥K L
)
≥≥L M
;
≥≥M N
using
¥¥$ )
(
¥¥* +
System
¥¥+ 1
.
¥¥1 2
IO
¥¥2 4
.
¥¥4 5
StreamWriter
¥¥5 A
file
¥¥B F
=
¥¥G H
new
¥¥I L
System
¥¥M S
.
¥¥S T
IO
¥¥T V
.
¥¥V W
StreamWriter
¥¥W c
(
¥¥c d
	fileClear
¥¥d m
,
¥¥m n
true
¥¥o s
)
¥¥s t
)
¥¥t u
{
µµ$ %
file
∂∂( ,
.
∂∂, -
	WriteLine
∂∂- 6
(
∂∂6 7
	clearText
∂∂7 @
)
∂∂@ A
;
∂∂A B
}
∑∑$ %
}
∏∏  !
}
ππ 
}
∫∫ 
}
ªª 
}
ºº 
Console
ææ 
.
ææ 
	WriteLine
ææ !
(
ææ! "
$str
ææ" ;
)
ææ; <
;
ææ< =
}
øø 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
ex
¿¿ 
)
¿¿  
{
¡¡ 
Console
¬¬ 
.
¬¬ 
	WriteLine
¬¬ !
(
¬¬! "
$"
¬¬" $
$str
¬¬$ ;
{
¬¬; <
ex
¬¬< >
}
¬¬> ?
"
¬¬? @
)
¬¬@ A
;
¬¬A B
}
√√ 
Console
≈≈ 
.
≈≈ 
	WriteLine
≈≈ !
(
≈≈! "
$str
≈≈" ;
)
≈≈; <
;
≈≈< =
}
∆∆ 
catch
«« 
(
«« 
	Exception
«« 
ex
«« 
)
««  
{
»» 
Console
…… 
.
…… 
	WriteLine
…… !
(
……! "
$"
……" $
$str
……$ ;
{
……; <
ex
……< >
}
……> ?
"
……? @
)
……@ A
;
……A B
}
   
}
ÃÃ 	
}
ÕÕ 
}ŒŒ 